import "./chunk-DFKQJ226.js";

// node_modules/@tosspayments/payment-widget-sdk/dist/index.esm.js
var cachedPromise;
function loadScript(src, namespace) {
  var existingElement = document.querySelector('[src="'.concat(src, '"]'));
  if (existingElement != null && cachedPromise !== void 0) {
    return cachedPromise;
  }
  if (existingElement != null && getNamespace(namespace) !== void 0) {
    return Promise.resolve(getNamespace(namespace));
  }
  var script = document.createElement("script");
  script.src = src;
  cachedPromise = new Promise(function(resolve, reject) {
    document.head.appendChild(script);
    window.addEventListener("TossPayments:initialize:".concat(namespace), function() {
      if (getNamespace(namespace) !== void 0) {
        resolve(getNamespace(namespace));
      } else {
        reject(new Error("[TossPayments SDK] Failed to load script: [".concat(src, "]")));
      }
    });
  });
  return cachedPromise;
}
function getNamespace(name) {
  return window[name];
}
var SCRIPT_ID = "__tosspayments-payment-widget-sdk__";
var SCRIPT_URL = "https://js.tosspayments.com/v1/payment-widget";
function loadPaymentWidget(clientKey, customerKey) {
  var loadOptions = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : {};
  var _loadOptions$src = loadOptions.src, src = _loadOptions$src === void 0 ? SCRIPT_URL : _loadOptions$src;
  if (typeof window === "undefined") {
    return Promise.resolve({});
  }
  return loadScript(src, "PaymentWidget").then(function(PaymentWidget) {
    return PaymentWidget(clientKey, customerKey);
  });
}
function clearPaymentWidget() {
  var _script$parentElement;
  var script = document.getElementById(SCRIPT_ID);
  script === null || script === void 0 ? void 0 : (_script$parentElement = script.parentElement) === null || _script$parentElement === void 0 ? void 0 : _script$parentElement.removeChild(script);
  window.PaymentWidget = void 0;
}
var ANONYMOUS = "@@ANONYMOUS";
export {
  ANONYMOUS,
  clearPaymentWidget,
  loadPaymentWidget
};
//# sourceMappingURL=@tosspayments_payment-widget-sdk.js.map
